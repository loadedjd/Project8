PROGRAM Test IS

  INSTRUCTION one IS
     move
     turnleft
  END one
  
  INSTRUCTION two IS
    one
    IF next-is-not-empty THEN
      turnleft
    ELSE
      one
      one
    END IF
  END two
  
  INSTRUCTION three IS
  	move
  	move
  	infect
  	turnright
  	two
  	one
  	infect
  END three

BEGIN
  infect
  WHILE true DO
    two
    three
    three
    IF next-is-empty THEN
      move
    END IF
    two
    one
   END WHILE
END Test